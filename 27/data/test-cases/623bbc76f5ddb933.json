{"uid":"623bbc76f5ddb933","name":"Картинки в яндексе","fullName":"test.test_tensor.TensorTestCase#test_pictures","historyId":"9214267beedc59fe8c2f8d4f710a67a6","time":{"start":1659188370462,"stop":1659188379157,"duration":8695},"status":"failed","statusMessage":"AssertionError","statusTrace":"self = <test.test_tensor.TensorTestCase testMethod=test_pictures>\n\n    @allure.title('Картинки в яндексе')\n    def test_pictures(self):\n        self.hp.navigation.click_navigation(\"Картинки\", True, Stere.browser)\n        ip = Images_Page(Stere.browser)\n        top_category = ip.popular_items.get_top_item()\n    \n        sr = ip.popular_items.click_category(top_category)\n        sr.search_form.assert_query(top_category)\n        top_result = sr.get_top_result()\n    \n        iv = sr.click_result(top_result)\n        top_image = iv.download_current_image()\n        iv.image_container.next()\n        iv.compare_images(False, top_image)\n        iv.image_container.prev()\n>       iv.compare_images(True, top_image)\n\ntest/test_tensor.py:61: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <src.pages.search_results.Image_Viewer object at 0x7f7b6f0a34f0>, should_equal = True\ncompare_to = b'\\xff\\xd8\\xff\\xe0\\x00\\x10JFIF\\x00\\x01\\x01\\x00\\x00\\x01\\x00\\x01\\x00\\x00\\xff\\xdb\\x00C\\x00\\x05\\x04\\x04\\x05\\x04\\x03\\x05\\x0...83\\x85\\n\\xb5Q\\xf2\\xa5N\\xa7\\xa4=\\x06:\\xd6\\xe3\\xc0\\xa7\\xac\\xb4\\x10\\xa1`\\x94\\x9b\\xd8{\\xfb\\x0c\\x17\\x91\\xc6i 8\\xdcY\\xff\\xd9'\n\n    @allure.step(\"Сравнить текущую картинку с эталонной. Ожидаемый результат сравнения: {1}\")\n    def compare_images(self, should_equal, compare_to):\n        current_image = self.download_current_image()\n>       assert (current_image == compare_to) == should_equal\nE       AssertionError\n\nsrc/pages/search_results.py:38: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_unittest_setUpClass_fixture_TensorTestCase","time":{"start":1659188370462,"stop":1659188370462,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError","statusTrace":"self = <test.test_tensor.TensorTestCase testMethod=test_pictures>\n\n    @allure.title('Картинки в яндексе')\n    def test_pictures(self):\n        self.hp.navigation.click_navigation(\"Картинки\", True, Stere.browser)\n        ip = Images_Page(Stere.browser)\n        top_category = ip.popular_items.get_top_item()\n    \n        sr = ip.popular_items.click_category(top_category)\n        sr.search_form.assert_query(top_category)\n        top_result = sr.get_top_result()\n    \n        iv = sr.click_result(top_result)\n        top_image = iv.download_current_image()\n        iv.image_container.next()\n        iv.compare_images(False, top_image)\n        iv.image_container.prev()\n>       iv.compare_images(True, top_image)\n\ntest/test_tensor.py:61: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <src.pages.search_results.Image_Viewer object at 0x7f7b6f0a34f0>, should_equal = True\ncompare_to = b'\\xff\\xd8\\xff\\xe0\\x00\\x10JFIF\\x00\\x01\\x01\\x00\\x00\\x01\\x00\\x01\\x00\\x00\\xff\\xdb\\x00C\\x00\\x05\\x04\\x04\\x05\\x04\\x03\\x05\\x0...83\\x85\\n\\xb5Q\\xf2\\xa5N\\xa7\\xa4=\\x06:\\xd6\\xe3\\xc0\\xa7\\xac\\xb4\\x10\\xa1`\\x94\\x9b\\xd8{\\xfb\\x0c\\x17\\x91\\xc6i 8\\xdcY\\xff\\xd9'\n\n    @allure.step(\"Сравнить текущую картинку с эталонной. Ожидаемый результат сравнения: {1}\")\n    def compare_images(self, should_equal, compare_to):\n        current_image = self.download_current_image()\n>       assert (current_image == compare_to) == should_equal\nE       AssertionError\n\nsrc/pages/search_results.py:38: AssertionError","steps":[{"name":"Перейти на главную страницу Яндекса","time":{"start":1659188371229,"stop":1659188371230,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кликнуть на ссылку на раздел \"'Картинки'\" на панели навигации в верхней части страницы","time":{"start":1659188375070,"stop":1659188375527,"duration":457},"status":"passed","steps":[{"name":"Закрыть окно браузера с названием 'Яндекс'","time":{"start":1659188375426,"stop":1659188375527,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"browser","value":"<splinter.driver.webdriver.chrome.WebDriver object at 0x7f7b6f0fab50>"},{"name":"window_name","value":"'CDwindow-C372CDA1D65265AC211D2754DC20C18B'"},{"name":"title","value":"'Яндекс'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"section","value":"'Картинки'"},{"name":"close_prev_window","value":"True"},{"name":"browser","value":"<splinter.driver.webdriver.chrome.WebDriver object at 0x7f7b6f0fab50>"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Перейти в раздел \"Картинки\"","time":{"start":1659188375527,"stop":1659188375938,"duration":411},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"browser","value":"<splinter.driver.webdriver.chrome.WebDriver object at 0x7f7b6f0fab50>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кликнуть на категорию \"'Барс'","time":{"start":1659188375964,"stop":1659188376489,"duration":525},"status":"passed","steps":[{"name":"Перейти на страницу результатов поиска","time":{"start":1659188376489,"stop":1659188376489,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"mode","value":"'image'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cat_name","value":"'Барс'"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверить, что в строке поиска отображается 'Барс'","time":{"start":1659188376489,"stop":1659188376519,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"query","value":"'Барс'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кликнуть на картинку","time":{"start":1659188377449,"stop":1659188377449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сравнить текущую картинку с эталонной. Ожидаемый результат сравнения: False","time":{"start":1659188378007,"stop":1659188378355,"duration":348},"status":"passed","steps":[],"attachments":[{"uid":"e921385c17f89142","name":"Сравнение изображений","source":"e921385c17f89142.txt","type":"text/plain","size":66}],"parameters":[{"name":"should_equal","value":"False"},{"name":"compare_to","value":"<class 'bytes'>"}],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнить текущую картинку с эталонной. Ожидаемый результат сравнения: True","time":{"start":1659188378468,"stop":1659188379096,"duration":628},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/home/schastev/Coding/Work/testit/tensor_test_assignment/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/home/schastev/Coding/Work/tensor_test_assignment/src/pages/search_results.py\", line 38, in compare_images\n    assert (current_image == compare_to) == should_equal\n","steps":[],"attachments":[],"parameters":[{"name":"should_equal","value":"True"},{"name":"compare_to","value":"<class 'bytes'>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"_unittest_setUpClass_fixture_TensorTestCase::0","time":{"start":1659188385541,"stop":1659188385541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"test"},{"name":"suite","value":"test_tensor"},{"name":"subSuite","value":"TensorTestCase"},{"name":"host","value":"schastev-Modern-15-A10M"},{"name":"thread","value":"62250-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_tensor"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"623bbc76f5ddb933.json","parameterValues":[]}